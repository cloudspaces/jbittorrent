<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Mon Jul 01 09:15:38 CEST 2013 -->
<title>DownloadManager</title>
<meta name="date" content="2013-07-01">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DownloadManager";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DownloadManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../jbittorrent/DLRateComparator.html" title="class in jbittorrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../jbittorrent/DownloadManagerListener.html" title="interface in jbittorrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?jbittorrent/DownloadManager.html" target="_top">Frames</a></li>
<li><a href="DownloadManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_java.lang.Thread">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">jbittorrent</div>
<h2 title="Class DownloadManager" class="title">Class DownloadManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.lang.Thread</li>
<li>
<ul class="inheritance">
<li>jbittorrent.DownloadManager</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable, java.util.EventListener, <a href="../jbittorrent/ConListenerInterface.html" title="interface in jbittorrent">ConListenerInterface</a>, <a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a>, <a href="../jbittorrent/PeerUpdateListener.html" title="interface in jbittorrent">PeerUpdateListener</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">DownloadManager</span>
extends java.lang.Thread
implements <a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a>, <a href="../jbittorrent/PeerUpdateListener.html" title="interface in jbittorrent">PeerUpdateListener</a>, <a href="../jbittorrent/ConListenerInterface.html" title="interface in jbittorrent">ConListenerInterface</a></pre>
<div class="block">Object that manages all concurrent downloads. It chooses which piece to request
 to which peer.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>0.1</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Baptiste Dubuis, Sandra Ferrer Celma</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.lang.Thread</h3>
<code>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.Thread</h3>
<code>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../jbittorrent/DownloadManager.html#DownloadManager(jbittorrent.TorrentFile, byte[], java.lang.String)">DownloadManager</a></strong>(<a href="../jbittorrent/TorrentFile.html" title="class in jbittorrent">TorrentFile</a>&nbsp;torrent,
               byte[]&nbsp;clientID,
               java.lang.String&nbsp;savePath)</code>
<div class="block">Creates a new manager in accord to the given torrent, 
 using the client ID provided and the path where is saved the downloaded file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../jbittorrent/DownloadManager.html#DownloadManager(jbittorrent.TorrentFile, byte[], java.lang.String, int)">DownloadManager</a></strong>(<a href="../jbittorrent/TorrentFile.html" title="class in jbittorrent">TorrentFile</a>&nbsp;torrent,
               byte[]&nbsp;clientID,
               java.lang.String&nbsp;savePath,
               int&nbsp;blockSize)</code>
<div class="block">Creates a new manager in accord to the given torrent, 
 using the client ID provided and the path where is saved the downloaded file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../jbittorrent/DownloadManager.html#DownloadManager(jbittorrent.TorrentFile, byte[], java.lang.String, int, int, float)">DownloadManager</a></strong>(<a href="../jbittorrent/TorrentFile.html" title="class in jbittorrent">TorrentFile</a>&nbsp;torrent,
               byte[]&nbsp;clientID,
               java.lang.String&nbsp;savePath,
               int&nbsp;intervalUpdateListPeers,
               int&nbsp;blockSize,
               float&nbsp;thresholdEndGameTest)</code>
<div class="block">Creates a new manager in accord to the given torrent, 
 using the client ID provided and the path where is saved the downloaded file.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#addActiveTask(java.lang.String, jbittorrent.DownloadTask)">addActiveTask</a></strong>(java.lang.String&nbsp;id,
             <a href="../jbittorrent/DownloadTask.html" title="class in jbittorrent">DownloadTask</a>&nbsp;dt)</code>
<div class="block">Add the download task to the list of active (i.e.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#blockUntilCompletion()">blockUntilCompletion</a></strong>()</code>
<div class="block">Periodically call the unchokePeers method.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#cardinalityActiveRequests()">cardinalityActiveRequests</a></strong>()</code>
<div class="block">Returns the number of pieces currently requested to peers</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#cardinalityRequested()">cardinalityRequested</a></strong>()</code>
<div class="block">Returns the number of pieces, that have been requested at least once.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#cardinalitySender()">cardinalitySender</a></strong>()</code>
<div class="block">Returns the number of pieces sender to peers</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#checkTempFiles()">checkTempFiles</a></strong>()</code>
<div class="block">Check the existence of the files specified in the torrent and if necessary,
 create them</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#closeTempFiles()">closeTempFiles</a></strong>()</code>
<div class="block">Close all open files</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#connect(jbittorrent.Peer)">connect</a></strong>(<a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;p)</code>
<div class="block">Initiates a connection with the peer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#connectionAccepted(java.net.Socket)">connectionAccepted</a></strong>(java.net.Socket&nbsp;s)</code>
<div class="block">Called when a new peer connects to the client.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#disconnect(jbittorrent.Peer)">disconnect</a></strong>(<a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;p)</code>
<div class="block">Disconnect and stop task thread the peer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#displayLogs()">displayLogs</a></strong>()</code>
<div class="block">Displays the number of pieces, that have been transferred to other peers, 
 and/or the pieces obtained from other peers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getBitField()">getBitField</a></strong>()</code>
<div class="block">Compute the bitfield byte array from the isComplete BitSet</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getClientID()">getClientID</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getCompleted()">getCompleted</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getDLRate()">getDLRate</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../jbittorrent/DownloadManagerListener.html" title="interface in jbittorrent">DownloadManagerListener</a></code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getDownloadManagerListener()">getDownloadManagerListener</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getInitTimeStartedProtocol()">getInitTimeStartedProtocol</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getIntervalUpdateListPeers()">getIntervalUpdateListPeers</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getLastTimeReceivePieceBlock()">getLastTimeReceivePieceBlock</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getLastTimeSendPieceBlock()">getLastTimeSendPieceBlock</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../jbittorrent/Piece.html" title="class in jbittorrent">Piece</a></code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getPiece(int)">getPiece</a></strong>(int&nbsp;index)</code>
<div class="block">Returns the piece with the given index</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getPieceBlock(int, int, int)">getPieceBlock</a></strong>(int&nbsp;piece,
             int&nbsp;begin,
             int&nbsp;length)</code>
<div class="block">Get a piece block from the existing file(s)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getPieceFromFiles(int)">getPieceFromFiles</a></strong>(int&nbsp;piece)</code>
<div class="block">Load piece data from the existing files</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getThresholdEndGameTest()">getThresholdEndGameTest</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../jbittorrent/TorrentFile.html" title="class in jbittorrent">TorrentFile</a></code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getTorrentFile()">getTorrentFile</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#getULRate()">getULRate</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#isComplete()">isComplete</a></strong>()</code>
<div class="block">Check if the current download is complete</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#isPieceActiveRequest(int)">isPieceActiveRequest</a></strong>(int&nbsp;piece)</code>
<div class="block">Checks if the piece, with the given index, is being transferred 
 by a peer in this moment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#isPieceComplete(int)">isPieceComplete</a></strong>(int&nbsp;piece)</code>
<div class="block">Check if the piece with the given index is complete and verified</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#isPieceRequested(int)">isPieceRequested</a></strong>(int&nbsp;piece)</code>
<div class="block">Checks if the piece, with the given index, has been requested at least once.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#isPieceSent(int)">isPieceSent</a></strong>(int&nbsp;piece)</code>
<div class="block">Check if the piece with the given index is requested by a peer</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#isRunning()">isRunning</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#peerAvailability(java.lang.String, java.util.BitSet)">peerAvailability</a></strong>(java.lang.String&nbsp;peerID,
                java.util.BitSet&nbsp;has)</code>
<div class="block">Update the piece availabilities for a given peer</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#peerConnectionAlreadyExists(java.lang.String, jbittorrent.Peer)">peerConnectionAlreadyExists</a></strong>(java.lang.String&nbsp;idTracker,
                           <a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;peer)</code>
<div class="block">Checks if the identifier of the peer in the tracker corresponds 
 to a previously established connection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#peerReady(java.lang.String)">peerReady</a></strong>(java.lang.String&nbsp;peerID)</code>
<div class="block">Received when a task is ready to download or upload.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#peerRequest(java.lang.String, int, int, int, jbittorrent.DownloadTask)">peerRequest</a></strong>(java.lang.String&nbsp;peerID,
           int&nbsp;piece,
           int&nbsp;begin,
           int&nbsp;length,
           <a href="../jbittorrent/DownloadTask.html" title="class in jbittorrent">DownloadTask</a>&nbsp;dt)</code>
<div class="block">Received when a peer request a piece.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#pieceCompleted(java.lang.String, int, boolean, jbittorrent.DownloadTask)">pieceCompleted</a></strong>(java.lang.String&nbsp;peerID,
              int&nbsp;i,
              boolean&nbsp;complete,
              <a href="../jbittorrent/DownloadTask.html" title="class in jbittorrent">DownloadTask</a>&nbsp;dt)</code>
<div class="block">Received when a piece has been fully downloaded by a task.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#pieceRequestActive(int, boolean)">pieceRequestActive</a></strong>(int&nbsp;i,
                  boolean&nbsp;requested)</code>
<div class="block">Set the status of the piece to requested or not</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#receivePieceBlock(java.lang.String)">receivePieceBlock</a></strong>(java.lang.String&nbsp;peerID)</code>
<div class="block">Save the last time, when receives a new piece.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#requestedBits()">requestedBits</a></strong>()</code>
<div class="block">Returns a String representing the piece being requested by peers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#run()">run</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#save()">save</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;&nbsp;</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#savePiece(int)">savePiece</a></strong>(int&nbsp;piece)</code>
<div class="block">Save a piece in the corresponding file(s)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#setActiveRequest(int, boolean)">setActiveRequest</a></strong>(int&nbsp;piece,
                boolean&nbsp;is)</code>
<div class="block">Marks a piece, as currently requested or not, according to the parameters.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#setComplete(int, boolean)">setComplete</a></strong>(int&nbsp;piece,
           boolean&nbsp;is)</code>
<div class="block">Mark a piece as complete or not according to the parameters</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#setDownloadManagerListener(jbittorrent.DownloadManagerListener)">setDownloadManagerListener</a></strong>(<a href="../jbittorrent/DownloadManagerListener.html" title="interface in jbittorrent">DownloadManagerListener</a>&nbsp;downloadManagerListener)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#setInitTimeStartedProtocol(long)">setInitTimeStartedProtocol</a></strong>(long&nbsp;initTimeStartedProtocol)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#setIntervalUpdateListPeers(int)">setIntervalUpdateListPeers</a></strong>(int&nbsp;intervalUpdateListPeers)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#setLastTimeReceivePieceBlock(long)">setLastTimeReceivePieceBlock</a></strong>(long&nbsp;lastTimeReceivePieceBlock)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#setLastTimeSendPieceBlock(long)">setLastTimeSendPieceBlock</a></strong>(long&nbsp;lastTimeSendPieceBlock)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#setRequested(int, boolean)">setRequested</a></strong>(int&nbsp;piece,
            boolean&nbsp;is)</code>
<div class="block">Mark a piece as requested or not according to the parameters</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#setSaveInformationPieceTransfer(boolean)">setSaveInformationPieceTransfer</a></strong>(boolean&nbsp;save)</code>
<div class="block">Saves the information of pieces, sent or obtained, from different peers of the swarm.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#setSent(int, boolean)">setSent</a></strong>(int&nbsp;piece,
       boolean&nbsp;is)</code>
<div class="block">Mark a piece as requested or not according to the parameters</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#setThresholdEndGameTest(float)">setThresholdEndGameTest</a></strong>(float&nbsp;threshold)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#startListening(int, int)">startListening</a></strong>(int&nbsp;minPort,
              int&nbsp;maxPort)</code>
<div class="block">Create the ConnectionListener to accept incoming connection from peers</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#startTrackerUpdate()">startTrackerUpdate</a></strong>()</code>
<div class="block">Create and start the peer updater to retrieve new peers sharing the file</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#stopAndClearActiveTask()">stopAndClearActiveTask</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#stopBlockUntilCompletion()">stopBlockUntilCompletion</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#stopTrackerUpdate()">stopTrackerUpdate</a></strong>()</code>
<div class="block">Stop the tracker updates</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#taskCompleted(jbittorrent.DownloadTask, int)">taskCompleted</a></strong>(<a href="../jbittorrent/DownloadTask.html" title="class in jbittorrent">DownloadTask</a>&nbsp;dt,
             int&nbsp;reason)</code>
<div class="block">Removes a task and peer after the task sends a completion message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#testComplete(int)">testComplete</a></strong>(int&nbsp;piece)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#updateFailed(int, java.lang.String)">updateFailed</a></strong>(int&nbsp;error,
            java.lang.String&nbsp;message)</code>
<div class="block">Called when an update try fail.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#updatePeerList(java.util.LinkedHashMap)">updatePeerList</a></strong>(java.util.LinkedHashMap&nbsp;list)</code>
<div class="block">Given the list in parameter, check if the peers are already present in
 the peer list.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadManager.html#updatePeerListState(java.util.Map)">updatePeerListState</a></strong>(java.util.Map&lt;java.lang.String,java.lang.Integer&gt;&nbsp;mapState)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Thread</h3>
<code>activeCount, checkAccess, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, toString, yield</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DownloadManager(jbittorrent.TorrentFile, byte[], java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DownloadManager</h4>
<pre>public&nbsp;DownloadManager(<a href="../jbittorrent/TorrentFile.html" title="class in jbittorrent">TorrentFile</a>&nbsp;torrent,
               byte[]&nbsp;clientID,
               java.lang.String&nbsp;savePath)</pre>
<div class="block">Creates a new manager in accord to the given torrent, 
 using the client ID provided and the path where is saved the downloaded file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>torrent</code> - TorrentFile</dd><dd><code>clientID</code> - byte[]</dd><dd><code>savePath</code> - is the path where the downloaded file is saved.</dd></dl>
</li>
</ul>
<a name="DownloadManager(jbittorrent.TorrentFile, byte[], java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DownloadManager</h4>
<pre>public&nbsp;DownloadManager(<a href="../jbittorrent/TorrentFile.html" title="class in jbittorrent">TorrentFile</a>&nbsp;torrent,
               byte[]&nbsp;clientID,
               java.lang.String&nbsp;savePath,
               int&nbsp;blockSize)</pre>
<div class="block">Creates a new manager in accord to the given torrent, 
 using the client ID provided and the path where is saved the downloaded file.  
 The fourth parameter determines the size (in kb) of blocks, 
 in which are divided the pieces, default size is 16 kB.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>torrent</code> - TorrentFile</dd><dd><code>clientID</code> - byet[]</dd><dd><code>savePath</code> - String</dd><dd><code>blockSize</code> - int</dd></dl>
</li>
</ul>
<a name="DownloadManager(jbittorrent.TorrentFile, byte[], java.lang.String, int, int, float)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DownloadManager</h4>
<pre>public&nbsp;DownloadManager(<a href="../jbittorrent/TorrentFile.html" title="class in jbittorrent">TorrentFile</a>&nbsp;torrent,
               byte[]&nbsp;clientID,
               java.lang.String&nbsp;savePath,
               int&nbsp;intervalUpdateListPeers,
               int&nbsp;blockSize,
               float&nbsp;thresholdEndGameTest)</pre>
<div class="block">Creates a new manager in accord to the given torrent, 
 using the client ID provided and the path where is saved the downloaded file.
 Also according with the following parameters:
 <ul>
 <li>intervalUpdateListPeers ­ intervalUpdateListPeers: establishes the periodicity, in seconds, 
 with which the peer is announced in the tracker; in accordance to the tracker protocol HTTP/HTTPS 
 and the announceURL specified in the TorrentFile.  The connections of the peers with 
 which it interacts, will be revised, and new connections will be established, if the peers 
 list returned by the tracker, contains new peers.</li>
 <li>blockSize determines the size, in KB, of the blocs.  By default is 16 kB.</li>
 <li>thresholdEndGameTest ­ thresholdEndGameTest: determines when to activate EndGameStrategy.  
 If it is ­1 (by default value) will be activated according to the protocol defined by Bram Cohen 
 (when all the pieces have been solicited). Otherwise, a percentage of total download 
 of the file (i.e. 90%) is determined like the moment where will be activated the EndGameStrategy.</li>
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>torrent</code> - TorrentFile</dd><dd><code>clientID</code> - byet[]</dd><dd><code>savePath</code> - String</dd><dd><code>intervalUpdateListPeers</code> - int</dd><dd><code>blockSize</code> - int</dd><dd><code>thresholdEndGameTest</code> - float</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setSaveInformationPieceTransfer(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSaveInformationPieceTransfer</h4>
<pre>public&nbsp;void&nbsp;setSaveInformationPieceTransfer(boolean&nbsp;save)</pre>
<div class="block">Saves the information of pieces, sent or obtained, from different peers of the swarm.
 This information will be showed by logs.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>save</code> - boolean</dd></dl>
</li>
</ul>
<a name="testComplete(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testComplete</h4>
<pre>public&nbsp;boolean&nbsp;testComplete(int&nbsp;piece)</pre>
</li>
</ul>
<a name="blockUntilCompletion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockUntilCompletion</h4>
<pre>public&nbsp;void&nbsp;blockUntilCompletion()</pre>
<div class="block">Periodically call the unchokePeers method. This is an infinite loop.
 User have to exit with Ctrl+C, which is not good... Todo is change this
 method...</div>
</li>
</ul>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code>run</code>&nbsp;in class&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="displayLogs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>displayLogs</h4>
<pre>public&nbsp;void&nbsp;displayLogs()</pre>
<div class="block">Displays the number of pieces, that have been transferred to other peers, 
 and/or the pieces obtained from other peers.</div>
</li>
</ul>
<a name="stopBlockUntilCompletion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopBlockUntilCompletion</h4>
<pre>public&nbsp;void&nbsp;stopBlockUntilCompletion()</pre>
</li>
</ul>
<a name="stopAndClearActiveTask()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopAndClearActiveTask</h4>
<pre>public&nbsp;void&nbsp;stopAndClearActiveTask()</pre>
</li>
</ul>
<a name="isRunning()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRunning</h4>
<pre>public&nbsp;boolean&nbsp;isRunning()</pre>
</li>
</ul>
<a name="startTrackerUpdate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTrackerUpdate</h4>
<pre>public&nbsp;void&nbsp;startTrackerUpdate()</pre>
<div class="block">Create and start the peer updater to retrieve new peers sharing the file</div>
</li>
</ul>
<a name="stopTrackerUpdate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopTrackerUpdate</h4>
<pre>public&nbsp;void&nbsp;stopTrackerUpdate()</pre>
<div class="block">Stop the tracker updates</div>
</li>
</ul>
<a name="startListening(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startListening</h4>
<pre>public&nbsp;boolean&nbsp;startListening(int&nbsp;minPort,
                     int&nbsp;maxPort)</pre>
<div class="block">Create the ConnectionListener to accept incoming connection from peers</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>minPort</code> - The minimal port number this client should listen on</dd><dd><code>maxPort</code> - The maximal port number this client should listen on</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if the listening process is started, false else</dd></dl>
</li>
</ul>
<a name="closeTempFiles()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeTempFiles</h4>
<pre>public&nbsp;void&nbsp;closeTempFiles()</pre>
<div class="block">Close all open files</div>
</li>
</ul>
<a name="checkTempFiles()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkTempFiles</h4>
<pre>public&nbsp;int&nbsp;checkTempFiles()</pre>
<div class="block">Check the existence of the files specified in the torrent and if necessary,
 create them</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>int</dd></dl>
</li>
</ul>
<a name="savePiece(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savePiece</h4>
<pre>public&nbsp;void&nbsp;savePiece(int&nbsp;piece)</pre>
<div class="block">Save a piece in the corresponding file(s)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>piece</code> - int</dd></dl>
</li>
</ul>
<a name="save()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>save</h4>
<pre>public&nbsp;void&nbsp;save()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i></i></div>
<div class="block">Save the downloaded files into the corresponding directories</div>
</li>
</ul>
<a name="isComplete()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isComplete</h4>
<pre>public&nbsp;boolean&nbsp;isComplete()</pre>
<div class="block">Check if the current download is complete</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>boolean</dd></dl>
</li>
</ul>
<a name="cardinalityActiveRequests()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cardinalityActiveRequests</h4>
<pre>public&nbsp;int&nbsp;cardinalityActiveRequests()</pre>
<div class="block">Returns the number of pieces currently requested to peers</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>int</dd></dl>
</li>
</ul>
<a name="cardinalityRequested()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cardinalityRequested</h4>
<pre>public&nbsp;int&nbsp;cardinalityRequested()</pre>
<div class="block">Returns the number of pieces, that have been requested at least once.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>int</dd></dl>
</li>
</ul>
<a name="cardinalitySender()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cardinalitySender</h4>
<pre>public&nbsp;int&nbsp;cardinalitySender()</pre>
<div class="block">Returns the number of pieces sender to peers</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>int</dd></dl>
</li>
</ul>
<a name="getPiece(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPiece</h4>
<pre>public&nbsp;<a href="../jbittorrent/Piece.html" title="class in jbittorrent">Piece</a>&nbsp;getPiece(int&nbsp;index)</pre>
<div class="block">Returns the piece with the given index</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>index</code> - The piece index</dd>
<dt><span class="strong">Returns:</span></dt><dd>Piece The piece with the given index</dd></dl>
</li>
</ul>
<a name="isPieceComplete(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPieceComplete</h4>
<pre>public&nbsp;boolean&nbsp;isPieceComplete(int&nbsp;piece)</pre>
<div class="block">Check if the piece with the given index is complete and verified</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>piece</code> - The piece index</dd>
<dt><span class="strong">Returns:</span></dt><dd>boolean</dd></dl>
</li>
</ul>
<a name="isPieceSent(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPieceSent</h4>
<pre>public&nbsp;boolean&nbsp;isPieceSent(int&nbsp;piece)</pre>
<div class="block">Check if the piece with the given index is requested by a peer</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>piece</code> - The piece index</dd>
<dt><span class="strong">Returns:</span></dt><dd>boolean</dd></dl>
</li>
</ul>
<a name="isPieceActiveRequest(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPieceActiveRequest</h4>
<pre>public&nbsp;boolean&nbsp;isPieceActiveRequest(int&nbsp;piece)</pre>
<div class="block">Checks if the piece, with the given index, is being transferred 
 by a peer in this moment.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>piece</code> - The piece index</dd>
<dt><span class="strong">Returns:</span></dt><dd>boolean</dd></dl>
</li>
</ul>
<a name="isPieceRequested(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPieceRequested</h4>
<pre>public&nbsp;boolean&nbsp;isPieceRequested(int&nbsp;piece)</pre>
<div class="block">Checks if the piece, with the given index, has been requested at least once.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>piece</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>boolean</dd></dl>
</li>
</ul>
<a name="setComplete(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setComplete</h4>
<pre>public&nbsp;void&nbsp;setComplete(int&nbsp;piece,
               boolean&nbsp;is)</pre>
<div class="block">Mark a piece as complete or not according to the parameters</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>piece</code> - The index of the piece to be updated</dd><dd><code>is</code> - True if the piece is now complete, false otherwise</dd></dl>
</li>
</ul>
<a name="setActiveRequest(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setActiveRequest</h4>
<pre>public&nbsp;void&nbsp;setActiveRequest(int&nbsp;piece,
                    boolean&nbsp;is)</pre>
<div class="block">Marks a piece, as currently requested or not, according to the parameters.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>piece</code> - int The index of the piece.</dd><dd><code>is</code> - boolean True if the piece is being requested, false if otherwise.</dd></dl>
</li>
</ul>
<a name="setRequested(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRequested</h4>
<pre>public&nbsp;void&nbsp;setRequested(int&nbsp;piece,
                boolean&nbsp;is)</pre>
<div class="block">Mark a piece as requested or not according to the parameters</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>piece</code> - The index of the piece to be updated</dd><dd><code>is</code> - True if the piece is now requested, false otherwise</dd></dl>
</li>
</ul>
<a name="setSent(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSent</h4>
<pre>public&nbsp;void&nbsp;setSent(int&nbsp;piece,
           boolean&nbsp;is)</pre>
<div class="block">Mark a piece as requested or not according to the parameters</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>piece</code> - The index of the piece to be updated</dd><dd><code>is</code> - True if the piece is now requested, false otherwise</dd></dl>
</li>
</ul>
<a name="requestedBits()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestedBits</h4>
<pre>public&nbsp;java.lang.String&nbsp;requestedBits()</pre>
<div class="block">Returns a String representing the piece being requested by peers.
 Used only for pretty-printing.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>String</dd></dl>
</li>
</ul>
<a name="taskCompleted(jbittorrent.DownloadTask, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>taskCompleted</h4>
<pre>public&nbsp;void&nbsp;taskCompleted(<a href="../jbittorrent/DownloadTask.html" title="class in jbittorrent">DownloadTask</a>&nbsp;dt,
                 int&nbsp;reason)</pre>
<div class="block">Removes a task and peer after the task sends a completion message.
 Completion can be caused by an error (bad request, ...) or simply by the
 end of the connection</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/DTListener.html#taskCompleted(jbittorrent.DownloadTask, int)">taskCompleted</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>dt</code> - <a href="../jbittorrent/DownloadTask.html" title="class in jbittorrent"><code>DownloadTask</code></a></dd><dd><code>reason</code> - Reason of the completion</dd></dl>
</li>
</ul>
<a name="receivePieceBlock(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receivePieceBlock</h4>
<pre>public&nbsp;void&nbsp;receivePieceBlock(java.lang.String&nbsp;peerID)</pre>
<div class="block">Save the last time, when receives a new piece.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/DTListener.html#receivePieceBlock(java.lang.String)">receivePieceBlock</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a></code></dd>
</dl>
</li>
</ul>
<a name="pieceCompleted(java.lang.String, int, boolean, jbittorrent.DownloadTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pieceCompleted</h4>
<pre>public&nbsp;void&nbsp;pieceCompleted(java.lang.String&nbsp;peerID,
                  int&nbsp;i,
                  boolean&nbsp;complete,
                  <a href="../jbittorrent/DownloadTask.html" title="class in jbittorrent">DownloadTask</a>&nbsp;dt)</pre>
<div class="block">Received when a piece has been fully downloaded by a task. The piece might
 have been corrupted, in which case the manager will request it again later.
 If it has been successfully downloaded and verified, the piece status is
 set to 'complete', a 'HAVE' message is sent to all connected peers and the
 piece is saved into the corresponding file(s)</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/DTListener.html#pieceCompleted(java.lang.String, int, boolean, jbittorrent.DownloadTask)">pieceCompleted</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peerID</code> - String</dd><dd><code>i</code> - int</dd><dd><code>complete</code> - boolean</dd></dl>
</li>
</ul>
<a name="pieceRequestActive(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pieceRequestActive</h4>
<pre>public&nbsp;void&nbsp;pieceRequestActive(int&nbsp;i,
                      boolean&nbsp;requested)</pre>
<div class="block">Set the status of the piece to requested or not</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/DTListener.html#pieceRequestActive(int, boolean)">pieceRequestActive</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>i</code> - int</dd><dd><code>requested</code> - boolean</dd></dl>
</li>
</ul>
<a name="peerReady(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerReady</h4>
<pre>public&nbsp;void&nbsp;peerReady(java.lang.String&nbsp;peerID)</pre>
<div class="block">Received when a task is ready to download or upload. In such a case, if
 there is a piece that can be downloaded from the corresponding peer, then
 request the piece. 
 
 In the event that the End Game mode is active and the current selected 
 piece is already downloaded, it will be contacted with the rest of tasks 
 that are waiting for the download of this same piece, to cancel the process.  
 In other words, that send cancellation messages and start the process 
 of selection of pieces.
 
 If the peer doesn’t have interesting pieces, it is sent 
 a not interested message.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/DTListener.html#peerReady(java.lang.String)">peerReady</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peerID</code> - String (peer.IP:peer.Port)</dd></dl>
</li>
</ul>
<a name="peerRequest(java.lang.String, int, int, int, jbittorrent.DownloadTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerRequest</h4>
<pre>public&nbsp;void&nbsp;peerRequest(java.lang.String&nbsp;peerID,
               int&nbsp;piece,
               int&nbsp;begin,
               int&nbsp;length,
               <a href="../jbittorrent/DownloadTask.html" title="class in jbittorrent">DownloadTask</a>&nbsp;dt)</pre>
<div class="block">Received when a peer request a piece. If the piece is available (which
 should always be the case according to Bittorrent protocol) and we are
 able and willing to upload, the send the piece to the peer</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/DTListener.html#peerRequest(java.lang.String, int, int, int, jbittorrent.DownloadTask)">peerRequest</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peerID</code> - String (peer.IP:peer.Port)</dd><dd><code>piece</code> - int</dd><dd><code>begin</code> - int</dd><dd><code>length</code> - int</dd><dd><code>dt</code> - <a href="../jbittorrent/DownloadTask.html" title="class in jbittorrent"><code>DownloadTask</code></a></dd></dl>
</li>
</ul>
<a name="getPieceFromFiles(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPieceFromFiles</h4>
<pre>public&nbsp;byte[]&nbsp;getPieceFromFiles(int&nbsp;piece)</pre>
<div class="block">Load piece data from the existing files</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>piece</code> - int</dd>
<dt><span class="strong">Returns:</span></dt><dd>byte[]</dd></dl>
</li>
</ul>
<a name="getPieceBlock(int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPieceBlock</h4>
<pre>public&nbsp;byte[]&nbsp;getPieceBlock(int&nbsp;piece,
                   int&nbsp;begin,
                   int&nbsp;length)</pre>
<div class="block">Get a piece block from the existing file(s)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>piece</code> - int</dd><dd><code>begin</code> - int</dd><dd><code>length</code> - int</dd>
<dt><span class="strong">Returns:</span></dt><dd>byte[]</dd></dl>
</li>
</ul>
<a name="peerAvailability(java.lang.String, java.util.BitSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerAvailability</h4>
<pre>public&nbsp;void&nbsp;peerAvailability(java.lang.String&nbsp;peerID,
                    java.util.BitSet&nbsp;has)</pre>
<div class="block">Update the piece availabilities for a given peer</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/DTListener.html#peerAvailability(java.lang.String, java.util.BitSet)">peerAvailability</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peerID</code> - String</dd><dd><code>has</code> - BitSet</dd></dl>
</li>
</ul>
<a name="connect(jbittorrent.Peer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>public&nbsp;void&nbsp;connect(<a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;p)</pre>
<div class="block">Initiates a connection with the peer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>p</code> - <a href="../jbittorrent/Peer.html" title="class in jbittorrent"><code>Peer</code></a></dd></dl>
</li>
</ul>
<a name="disconnect(jbittorrent.Peer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;void&nbsp;disconnect(<a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;p)</pre>
<div class="block">Disconnect and stop task thread the peer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>p</code> - <a href="../jbittorrent/Peer.html" title="class in jbittorrent"><code>Peer</code></a></dd></dl>
</li>
</ul>
<a name="updatePeerList(java.util.LinkedHashMap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updatePeerList</h4>
<pre>public&nbsp;void&nbsp;updatePeerList(java.util.LinkedHashMap&nbsp;list)</pre>
<div class="block">Given the list in parameter, check if the peers are already present in
 the peer list. If not, then add them and create a new task for them</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/PeerUpdateListener.html#updatePeerList(java.util.LinkedHashMap)">updatePeerList</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/PeerUpdateListener.html" title="interface in jbittorrent">PeerUpdateListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>list</code> - LinkedHashMap</dd></dl>
</li>
</ul>
<a name="updateFailed(int, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFailed</h4>
<pre>public&nbsp;void&nbsp;updateFailed(int&nbsp;error,
                java.lang.String&nbsp;message)</pre>
<div class="block">Called when an update try fail. At the moment, simply display a message</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/PeerUpdateListener.html#updateFailed(int, java.lang.String)">updateFailed</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/PeerUpdateListener.html" title="interface in jbittorrent">PeerUpdateListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>error</code> - int</dd><dd><code>message</code> - String</dd></dl>
</li>
</ul>
<a name="updatePeerListState(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updatePeerListState</h4>
<pre>public&nbsp;void&nbsp;updatePeerListState(java.util.Map&lt;java.lang.String,java.lang.Integer&gt;&nbsp;mapState)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/PeerUpdateListener.html#updatePeerListState(java.util.Map)">updatePeerListState</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/PeerUpdateListener.html" title="interface in jbittorrent">PeerUpdateListener</a></code></dd>
</dl>
</li>
</ul>
<a name="peerConnectionAlreadyExists(java.lang.String, jbittorrent.Peer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerConnectionAlreadyExists</h4>
<pre>public&nbsp;boolean&nbsp;peerConnectionAlreadyExists(java.lang.String&nbsp;idTracker,
                                  <a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;peer)</pre>
<div class="block">Checks if the identifier of the peer in the tracker corresponds 
 to a previously established connection.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>idTracker</code> - String</dd><dd><code>peer</code> - <a href="../jbittorrent/Peer.html" title="class in jbittorrent"><code>Peer</code></a></dd>
<dt><span class="strong">Returns:</span></dt><dd>boolean</dd></dl>
</li>
</ul>
<a name="addActiveTask(java.lang.String, jbittorrent.DownloadTask)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addActiveTask</h4>
<pre>public&nbsp;void&nbsp;addActiveTask(java.lang.String&nbsp;id,
                 <a href="../jbittorrent/DownloadTask.html" title="class in jbittorrent">DownloadTask</a>&nbsp;dt)</pre>
<div class="block">Add the download task to the list of active (i.e. Handshake is ok) tasks</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/DTListener.html#addActiveTask(java.lang.String, jbittorrent.DownloadTask)">addActiveTask</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - String</dd><dd><code>dt</code> - DownloadTask</dd></dl>
</li>
</ul>
<a name="connectionAccepted(java.net.Socket)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectionAccepted</h4>
<pre>public&nbsp;void&nbsp;connectionAccepted(java.net.Socket&nbsp;s)</pre>
<div class="block">Called when a new peer connects to the client. Check if it is already
 registered in the peer list, and if not, create a new DownloadTask for it</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/ConListenerInterface.html#connectionAccepted(java.net.Socket)">connectionAccepted</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/ConListenerInterface.html" title="interface in jbittorrent">ConListenerInterface</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>s</code> - Socket</dd></dl>
</li>
</ul>
<a name="getBitField()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBitField</h4>
<pre>public&nbsp;byte[]&nbsp;getBitField()</pre>
<div class="block">Compute the bitfield byte array from the isComplete BitSet</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>byte[]</dd></dl>
</li>
</ul>
<a name="getCompleted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCompleted</h4>
<pre>public&nbsp;float&nbsp;getCompleted()</pre>
</li>
</ul>
<a name="getDLRate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDLRate</h4>
<pre>public&nbsp;float&nbsp;getDLRate()</pre>
</li>
</ul>
<a name="getULRate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getULRate</h4>
<pre>public&nbsp;float&nbsp;getULRate()</pre>
</li>
</ul>
<a name="getTorrentFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTorrentFile</h4>
<pre>public&nbsp;<a href="../jbittorrent/TorrentFile.html" title="class in jbittorrent">TorrentFile</a>&nbsp;getTorrentFile()</pre>
</li>
</ul>
<a name="getDownloadManagerListener()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDownloadManagerListener</h4>
<pre>public&nbsp;<a href="../jbittorrent/DownloadManagerListener.html" title="interface in jbittorrent">DownloadManagerListener</a>&nbsp;getDownloadManagerListener()</pre>
</li>
</ul>
<a name="setDownloadManagerListener(jbittorrent.DownloadManagerListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDownloadManagerListener</h4>
<pre>public&nbsp;void&nbsp;setDownloadManagerListener(<a href="../jbittorrent/DownloadManagerListener.html" title="interface in jbittorrent">DownloadManagerListener</a>&nbsp;downloadManagerListener)</pre>
</li>
</ul>
<a name="getLastTimeSendPieceBlock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastTimeSendPieceBlock</h4>
<pre>public&nbsp;long&nbsp;getLastTimeSendPieceBlock()</pre>
</li>
</ul>
<a name="setLastTimeSendPieceBlock(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastTimeSendPieceBlock</h4>
<pre>public&nbsp;void&nbsp;setLastTimeSendPieceBlock(long&nbsp;lastTimeSendPieceBlock)</pre>
</li>
</ul>
<a name="getInitTimeStartedProtocol()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInitTimeStartedProtocol</h4>
<pre>public&nbsp;long&nbsp;getInitTimeStartedProtocol()</pre>
</li>
</ul>
<a name="setInitTimeStartedProtocol(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInitTimeStartedProtocol</h4>
<pre>public&nbsp;void&nbsp;setInitTimeStartedProtocol(long&nbsp;initTimeStartedProtocol)</pre>
</li>
</ul>
<a name="getClientID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientID</h4>
<pre>public&nbsp;byte[]&nbsp;getClientID()</pre>
</li>
</ul>
<a name="getLastTimeReceivePieceBlock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastTimeReceivePieceBlock</h4>
<pre>public&nbsp;long&nbsp;getLastTimeReceivePieceBlock()</pre>
</li>
</ul>
<a name="setLastTimeReceivePieceBlock(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastTimeReceivePieceBlock</h4>
<pre>public&nbsp;void&nbsp;setLastTimeReceivePieceBlock(long&nbsp;lastTimeReceivePieceBlock)</pre>
</li>
</ul>
<a name="getIntervalUpdateListPeers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIntervalUpdateListPeers</h4>
<pre>public&nbsp;int&nbsp;getIntervalUpdateListPeers()</pre>
</li>
</ul>
<a name="setIntervalUpdateListPeers(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIntervalUpdateListPeers</h4>
<pre>public&nbsp;void&nbsp;setIntervalUpdateListPeers(int&nbsp;intervalUpdateListPeers)</pre>
</li>
</ul>
<a name="getThresholdEndGameTest()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getThresholdEndGameTest</h4>
<pre>public&nbsp;float&nbsp;getThresholdEndGameTest()</pre>
</li>
</ul>
<a name="setThresholdEndGameTest(float)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setThresholdEndGameTest</h4>
<pre>public&nbsp;void&nbsp;setThresholdEndGameTest(float&nbsp;threshold)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DownloadManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../jbittorrent/DLRateComparator.html" title="class in jbittorrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../jbittorrent/DownloadManagerListener.html" title="interface in jbittorrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?jbittorrent/DownloadManager.html" target="_top">Frames</a></li>
<li><a href="DownloadManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_java.lang.Thread">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
